{"version":3,"sources":["comp/AdminPanel/QueueButton.js","comp/AdminPanel/PlayButton.js","comp/AdminPanel/SkipButton.js","comp/Button.js","comp/AdminPanel/QueueItem.js","comp/AdminPanel/Queue.js","comp/AdminPanel/AdminPanel.js","comp/PlayerAndChat.js","comp/Snackbars/Success.js","comp/Snackbars/Error.js","comp/MainPage/Home.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","root","margin","spacing","borderColor","color","transition","OutlinedButtons","onClick","style","children","title","classes","className","Button","variant","backgroundColor","text","deleteIcon","QueueItem","item","index","useContext","DataContext","setVideoQueue","admin","useState","videoTitle","setVideoTitle","useEffect","fetch","then","res","json","href","target","rel","IconButton","prev","filter","video","videoIndex","Queue","queueList","videoQueue","map","key","AdminPanel","twitchUserData","websiteURL","setAdmin","setCurrentVideoLink","socket","setMaxDelay","maxDelay","chatRef","editVideoLink","setEditVideoLink","twitchStreamer","useParams","undefined","toLowerCase","delayInfoRef","useRef","handleDelayInfoSetWidth","current","width","offsetWidth","window","addEventListener","removeEventListener","login","emit","currentRoom","removeAllListeners","handleAddVideo","handleChangeMaxDelay","type","value","placeholder","onChange","e","display","preventDefault","slice","src","image","alt","srcSet","location","ref","PlayerAndChat","useLocation","chatUsername","forEach","nick","onlineUsers","setOnlineUsers","setCurrentRoom","currentVideoLink","isPlaying","setIsPlaying","player","host","interval","setInterval","currentSeconds","getCurrentTime","clearInterval","ev","pathname","on","docs","queue","videoDuration","getDuration","currentTime","seekTo","synchronizeVideo","onPlay","onPause","playing","onEnded","url","height","controls","volume","border","id","Alert","props","elevation","marginTop","CustomizedSnackbars","isSuccess","setIsSuccess","successMessage","handleClose","event","reason","Snackbar","open","autoHideDuration","onClose","severity","isError","setIsError","errorMessage","Home","history","useHistory","setTwitchStreamer","push","React","createContext","io","App","setTwitchUserData","origin","document","credentials","profile","Provider","path","exact","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.08f0c108.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\t\"& > *\": {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t\tborderColor: \"white\",\r\n\t\t\tcolor: \"white\",\r\n\t\t\ttransition: \"0.3s\",\r\n\t\t\t\"&:hover\": {\r\n\t\t\t\tborderColor: \"#f9c74f\",\r\n\t\t\t\tcolor: \"#f9c74f\",\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n}));\r\n\r\nexport default function OutlinedButtons({ onClick, style, children, title }) {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div className={classes.root} title={title}>\r\n\t\t\t<Button\r\n\t\t\t\tonClick={onClick && onClick}\r\n\t\t\t\tstyle={style && style}\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\t\"& > *\": {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t\tborderColor: \"white\",\r\n\t\t\tcolor: \"white\",\r\n\t\t\ttransition: \"0.3s\",\r\n\t\t\t\"&:hover\": {\r\n\t\t\t\tborderColor: \"#90be6d\",\r\n\t\t\t\tcolor: \"#90be6d\",\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n}));\r\n\r\nexport default function OutlinedButtons({ onClick, style, children, title }) {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div className={classes.root} title={title}>\r\n\t\t\t<Button\r\n\t\t\t\tonClick={onClick && onClick}\r\n\t\t\t\tstyle={style && style}\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\t\"& > *\": {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t\tborderColor: \"white\",\r\n\t\t\tcolor: \"white\",\r\n\t\t\ttransition: \"0.3s\",\r\n\t\t\t\"&:hover\": {\r\n\t\t\t\tborderColor: \"#f94144\",\r\n\t\t\t\tcolor: \"#f94144\",\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n}));\r\n\r\nexport default function OutlinedButtons({ onClick, style, children, title }) {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div className={classes.root} title={title}>\r\n\t\t\t<Button\r\n\t\t\t\tonClick={onClick && onClick}\r\n\t\t\t\tstyle={style && style}\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      // margin: theme.spacing(1),\r\n      backgroundColor: \"#6441a5\",\r\n      // borderColor: \"white\",\r\n      color: \"white\",\r\n      transition: \"0.3s ease-in-out\",\r\n      \"&:hover\": {\r\n        color: \"white\",\r\n        borderColor: \"#6441a5\",\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function OutlinedButtons({ text, onClick, style }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Button\r\n        onClick={onClick && onClick}\r\n        style={style && style}\r\n        variant=\"outlined\"\r\n      >\r\n        {text ? text : \"Enter text\"}\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useContext } from \"react\";\r\nimport { DataContext } from \"../../App\";\r\nimport DeleteForeverIcon from \"@material-ui/icons/DeleteForever\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n\tdeleteIcon: {\r\n\t\tcolor: \"#f94144\",\r\n\t},\r\n});\r\n\r\nconst QueueItem = ({ item, index }) => {\r\n\tconst classes = useStyles();\r\n\r\n\tconst { setVideoQueue, admin } = useContext(DataContext);\r\n\tconst [videoTitle, setVideoTitle] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch(`https://noembed.com/embed?url=${item}`)\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetVideoTitle(res.title);\r\n\t\t\t});\r\n\t}, [item]);\r\n\r\n\tconst removeVideoFromQueue = () => {\r\n\t\tsetVideoQueue((prev) => {\r\n\t\t\treturn prev.filter((video, videoIndex) => index !== videoIndex);\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"queueItem\">\r\n\t\t\t\t<a href={item} target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t\t\t\t{videoTitle ? videoTitle : item}\r\n\t\t\t\t</a>\r\n\t\t\t\t{admin && (\r\n\t\t\t\t\t<div className=\"remove\">\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tclassName={classes.deleteIcon}\r\n\t\t\t\t\t\t\tonClick={removeVideoFromQueue}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteForeverIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default QueueItem;\r\n","import React, { useContext } from \"react\";\r\nimport { DataContext } from \"../../App\";\r\nimport QueueItem from \"./QueueItem\";\r\nconst Queue = () => {\r\n  const { videoQueue } = useContext(DataContext);\r\n  const queueList = videoQueue.map((item, index) => {\r\n    return <QueueItem item={item} index={index} key={index} />;\r\n  });\r\n\r\n  return <div className=\"queue\">{queueList}</div>;\r\n};\r\n\r\nexport default Queue;\r\n","import React, { useContext } from \"react\";\r\nimport { useState } from \"react\";\r\nimport QueueButton from \"./QueueButton\";\r\nimport PlayButton from \"./PlayButton\";\r\nimport SkipButton from \"./SkipButton\";\r\nimport Button2 from \"../Button\";\r\nimport PlayArrowIcon from \"@material-ui/icons/PlayArrow\";\r\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\";\r\nimport QueueIcon from \"@material-ui/icons/Queue\";\r\nimport { DataContext } from \"../../App\";\r\nimport \"./AdminPanel.css\";\r\nimport Queue from \"./Queue\";\r\nimport { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\nimport { useRef } from \"react\";\r\n\r\nconst AdminPanel = () => {\r\n\tconst {\r\n\t\ttwitchUserData,\r\n\t\twebsiteURL,\r\n\t\tadmin,\r\n\t\tsetAdmin,\r\n\t\tsetCurrentVideoLink,\r\n\t\tsocket,\r\n\t\tsetVideoQueue,\r\n\t\tvideoQueue,\r\n\t\tsetMaxDelay,\r\n\t\tmaxDelay,\r\n\t\tchatRef,\r\n\t} = useContext(DataContext);\r\n\tconst [editVideoLink, setEditVideoLink] = useState();\r\n\r\n\tlet { twitchStreamer } = useParams();\r\n\r\n\tif (twitchStreamer === undefined) {\r\n\t\ttwitchStreamer = \"victorowsky_\";\r\n\t}\r\n\r\n\ttwitchStreamer = twitchStreamer?.toLowerCase();\r\n\t// DEFAULT VALUE IS MY CHANNEL\r\n\r\n\t///  HANDLE SET WIDTH ON DELAY INFO SAME AS CHAT\r\n\tconst delayInfoRef = useRef(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handleDelayInfoSetWidth = () => {\r\n\t\t\tif (delayInfoRef.current) {\r\n\t\t\t\tdelayInfoRef.current.style.width = chatRef?.current?.offsetWidth + \"px\";\r\n\t\t\t}\r\n\t\t};\r\n\t\twindow.addEventListener(\"resize\", handleDelayInfoSetWidth);\r\n\t\tif (delayInfoRef.current) {\r\n\t\t\thandleDelayInfoSetWidth();\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener(\"resize\", handleDelayInfoSetWidth);\r\n\t\t};\r\n\t\t// MADE FOR .current\r\n\t\t// eslint-disable-next-line\r\n\t}, [chatRef, delayInfoRef.current, twitchStreamer]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (twitchUserData) {\r\n\t\t\tif (twitchUserData.login.toLowerCase() === twitchStreamer.toLowerCase()) {\r\n\t\t\t\tif (!admin) {\r\n\t\t\t\t\tsetAdmin(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn () => {\r\n\t\t\t\tif (admin) {\r\n\t\t\t\t\tsetAdmin(false);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t}, [twitchUserData, setAdmin, twitchStreamer, admin]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (admin) {\r\n\t\t\tsocket.emit(\"adminQueueUpdate\", {\r\n\t\t\t\tvideoQueue,\r\n\t\t\t\tcurrentRoom: twitchStreamer,\r\n\t\t\t});\r\n\r\n\t\t\treturn () => {\r\n\t\t\t\tsocket.removeAllListeners(\"adminQueueUpdate\");\r\n\t\t\t};\r\n\t\t}\r\n\t}, [videoQueue, socket, twitchStreamer, admin]);\r\n\r\n\tconst handleAddVideoToQueue = () => {\r\n\t\tif (editVideoLink) {\r\n\t\t\tsetVideoQueue((prev) => [...prev, editVideoLink]);\r\n\t\t\tsetEditVideoLink(\"\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleAddVideo = () => {\r\n\t\tif (editVideoLink) {\r\n\t\t\tsetCurrentVideoLink(editVideoLink);\r\n\t\t\tsetEditVideoLink(\"\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleChangeMaxDelay = (type) => {\r\n\t\tif (type === \"increment\") {\r\n\t\t\tsetMaxDelay((prev) => prev + 1);\r\n\t\t} else if (type === \"decrement\") {\r\n\t\t\tsetMaxDelay((prev) => {\r\n\t\t\t\tif (prev > 2) {\r\n\t\t\t\t\treturn prev + -1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn prev;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleAdminCheckQueue = () => {\r\n\t\tif (admin) {\r\n\t\t\tif (videoQueue) {\r\n\t\t\t\tsetCurrentVideoLink(videoQueue[0]);\r\n\t\t\t\tsetVideoQueue((prev) => prev.slice(1));\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleTwitchLogin = () => {\r\n\t\twindow.location.href = `${websiteURL}/auth/twitch`; //DECLARED IN APP\r\n\t};\r\n\r\n\tconst handleLogout = () => {\r\n\t\twindow.location.href = `${websiteURL}/twitch/logout`;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{admin ? (\r\n\t\t\t\t// ADMIN PANEL\r\n\t\t\t\t<>\r\n\t\t\t\t\t{/* ADDING VIDEO PANEL */}\r\n\t\t\t\t\t<div className=\"adminPanel\">\r\n\t\t\t\t\t\t<form>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tvalue={editVideoLink}\r\n\t\t\t\t\t\t\t\tplaceholder={\"VIDEO URL\"}\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tif (admin) {\r\n\t\t\t\t\t\t\t\t\t\tsetEditVideoLink(e.target.value);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tstyle={{ display: \"none\" }}\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\thandleAddVideo();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t></button>\r\n\t\t\t\t\t\t\t<div className=\"optionButtons\">\r\n\t\t\t\t\t\t\t\t<PlayButton onClick={handleAddVideo} title=\"Play\">\r\n\t\t\t\t\t\t\t\t\t<PlayArrowIcon />\r\n\t\t\t\t\t\t\t\t</PlayButton>\r\n\t\t\t\t\t\t\t\t<QueueButton\r\n\t\t\t\t\t\t\t\t\tonClick={handleAddVideoToQueue}\r\n\t\t\t\t\t\t\t\t\ttitle={\"Add to queue\"}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<QueueIcon />\r\n\t\t\t\t\t\t\t\t</QueueButton>\r\n\t\t\t\t\t\t\t\t<SkipButton\r\n\t\t\t\t\t\t\t\t\tonClick={handleAdminCheckQueue}\r\n\t\t\t\t\t\t\t\t\ttitle={\"Skip video\"}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<SkipNextIcon />\r\n\t\t\t\t\t\t\t\t</SkipButton>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t{twitchUserData && (\r\n\t\t\t\t\t\t\t<div className=\"accountInfo\">\r\n\t\t\t\t\t\t\t\t<div className=\"img\">\r\n\t\t\t\t\t\t\t\t\t<img src={twitchUserData.image} alt=\"twitchImage\" srcSet=\"\" />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{twitchUserData.login}\r\n\t\t\t\t\t\t\t\t<Button2 text={\"LOGOUT\"} onClick={handleLogout} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Queue />\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t// IS NOT ADMIN\r\n\t\t\t\t<div className=\"delayInfoContainer\">\r\n\t\t\t\t\t<Queue />\r\n\t\t\t\t\t<div className=\"delay\" ref={delayInfoRef}>\r\n\t\t\t\t\t\t<span className=\"delayInfo\">Max Delay: {maxDelay} seconds</span>\r\n\t\t\t\t\t\t<div className=\"delayManage\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"delayManageOptionDecrement\"\r\n\t\t\t\t\t\t\t\tonClick={() => handleChangeMaxDelay(\"decrement\")}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<RemoveIcon />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclassName=\"delayManageOptionIncrement\"\r\n\t\t\t\t\t\t\t\tonClick={() => handleChangeMaxDelay(\"increment\")}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{twitchUserData ? (\r\n\t\t\t\t\t\t\t<div className=\"accountInfo\">\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\thref={`/#/${twitchUserData.login.toLowerCase()}`}\r\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<div className=\"img\">\r\n\t\t\t\t\t\t\t\t\t\t<img src={twitchUserData.image} alt=\"Profile\" />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{twitchUserData.login}\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<div className=\"twitchLoginButton\">\r\n\t\t\t\t\t\t\t\t\t<Button2\r\n\t\t\t\t\t\t\t\t\t\ttext={\"LOGIN WITH TWITCH\"}\r\n\t\t\t\t\t\t\t\t\t\tonClick={handleTwitchLogin}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default AdminPanel;\r\n","import React, { useContext } from \"react\";\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport ReactPlayer from \"react-player/lazy\";\r\nimport { DataContext } from \"../App\";\r\nimport \"./PlayerAndChat.css\";\r\nimport { useParams, useLocation } from \"react-router-dom\";\r\n\r\nconst PlayerAndChat = () => {\r\n\tlet location = useLocation();\r\n\tlet { twitchStreamer } = useParams();\r\n\t// DEFAULT VALUE IS MY CHANNEL\r\n\tif (twitchStreamer === undefined) {\r\n\t\ttwitchStreamer = \"victorowsky_\";\r\n\t}\r\n\r\n\ttwitchStreamer = twitchStreamer.toLowerCase();\r\n\r\n\tlet chatUsername = twitchStreamer;\r\n\r\n\t// DEMONZZ1 CHAT FOR USERS\r\n\tconst usersWithDemonzzChat = [\"szkajpur\", \"victorowsky_\"];\r\n\r\n\tusersWithDemonzzChat.forEach((nick) => {\r\n\t\tif (chatUsername === nick) {\r\n\t\t\tchatUsername = \"demonzz1\";\r\n\t\t}\r\n\t});\r\n\r\n\tconst [onlineUsers, setOnlineUsers] = useState(null);\r\n\tconst [currentRoom, setCurrentRoom] = useState(twitchStreamer);\r\n\tconst {\r\n\t\tadmin,\r\n\t\tsetCurrentVideoLink,\r\n\t\tcurrentVideoLink,\r\n\t\tsocket,\r\n\t\tsetAdmin,\r\n\t\tvideoQueue,\r\n\t\tsetVideoQueue,\r\n\t\tmaxDelay,\r\n\t\tchatRef,\r\n\t} = useContext(DataContext);\r\n\r\n\tconst [isPlaying, setIsPlaying] = useState(false);\r\n\tconst player = useRef();\r\n\tconst maxDelayLive = 6;\r\n\t// CHAT LINK\r\n\tconst websiteURL = window.location.host; // HEROKU HOSTING\r\n\r\n\tconst synchronizeVideo = (player, currentSeconds) => {\r\n\t\tif (player.current) {\r\n\t\t\tconst videoDuration = player.current.getDuration();\r\n\t\t\tconst currentTime = player.current.getCurrentTime();\r\n\t\t\t// FOR LIVESTREAMS\r\n\t\t\tif (videoDuration > currentSeconds) {\r\n\t\t\t\t// STANDARD VIDEO\r\n\t\t\t\tif (\r\n\t\t\t\t\t!(\r\n\t\t\t\t\t\tcurrentTime - maxDelay < currentSeconds &&\r\n\t\t\t\t\t\tcurrentTime + maxDelay > currentSeconds\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\t// MAX 2 SENONDS DIFFERENCE\r\n\t\t\t\t\tplayer.current.seekTo(currentSeconds, \"seconds\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// HERE IS LIVESTREAM VERSION\r\n\t\t\t\tif (\r\n\t\t\t\t\t!(\r\n\t\t\t\t\t\tcurrentTime < videoDuration + maxDelayLive &&\r\n\t\t\t\t\t\tcurrentTime > videoDuration - maxDelayLive\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\tplayer.current.seekTo(videoDuration, \"seconds\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// ADMIN EMITS HIS DATA TO SHARE WITH OTHERS\r\n\tuseEffect(() => {\r\n\t\tlet interval;\r\n\t\tif (admin) {\r\n\t\t\tinterval = setInterval(() => {\r\n\t\t\t\tsocket.emit(`adminData`, {\r\n\t\t\t\t\tcurrentRoom,\r\n\t\t\t\t\tcurrentSeconds: player.current.getCurrentTime(),\r\n\t\t\t\t\tvideoQueue,\r\n\t\t\t\t});\r\n\t\t\t}, 3000);\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tclearInterval(interval);\r\n\t\t};\r\n\t}, [admin, socket, currentRoom, videoQueue]);\r\n\r\n\t// EMIT CHANGE VIDEO IF ADMIN CHANGES\r\n\tuseEffect(() => {\r\n\t\tif (admin) {\r\n\t\t\tsocket.emit(`videoChange`, {\r\n\t\t\t\tcurrentVideoLink,\r\n\t\t\t\tcurrentRoom,\r\n\t\t\t});\r\n\t\t}\r\n\t\t// HERE CANT BE CURRENTROOM, CUZ IT WILL SEND ANOTHER ADMIN DATA\r\n\t\t// eslint-disable-next-line\r\n\t}, [currentVideoLink, socket]);\r\n\r\n\t// DELETING ADMIN IF SWITCHING BETWEEN CHANNELS\r\n\tuseEffect(() => {\r\n\t\twindow.addEventListener(\"beforeunload\", (ev) => {\r\n\t\t\tev.preventDefault();\r\n\t\t\tsocket.emit(\"leaveRoom\", { currentRoom });\r\n\t\t});\r\n\t\tsetCurrentRoom(twitchStreamer);\r\n\t\t// eslint-disable-next-line\r\n\t}, [location.pathname]);\r\n\r\n\t// JOINING TO ROOM\r\n\tuseEffect(() => {\r\n\t\tsocket.emit(`joinRoom`, { currentRoom });\r\n\t\treturn () => {\r\n\t\t\tsocket.emit(\"leaveRoom\", { currentRoom });\r\n\t\t\tsetAdmin(false);\r\n\t\t};\r\n\t\t// eslint-disable-next-line\r\n\t}, [currentRoom]);\r\n\r\n\t// SOCKETS LISTENERS FOR USERS ONLY\r\n\tuseEffect(() => {\r\n\t\tsocket.on(\"onlineUsersAnswer\", ({ onlineUsers }) => {\r\n\t\t\tsetOnlineUsers(onlineUsers);\r\n\t\t});\r\n\r\n\t\tsocket.on(\"joinRoomAnswer\", ({ docs }) => {\r\n\t\t\tsetCurrentVideoLink(docs.currentVideoLink);\r\n\t\t\tsetVideoQueue(docs.queue);\r\n\t\t});\r\n\r\n\t\tif (!admin) {\r\n\t\t\tsocket.on(\"videoChangeAnswer\", ({ currentVideoLink }) => {\r\n\t\t\t\t// TURNED OFF FOR ADMIN TO NOT LOOP PAGE\r\n\t\t\t\tsetCurrentVideoLink(currentVideoLink);\r\n\t\t\t});\r\n\t\t\tsocket.on(\"isPlayingSocketAnswer\", ({ isPlaying }) => {\r\n\t\t\t\tsetIsPlaying(isPlaying);\r\n\t\t\t});\r\n\r\n\t\t\t// SYNC SECONDS WITH ADMIN\r\n\t\t\tsocket.on(`adminDataAnswer`, ({ currentSeconds, videoQueue }) => {\r\n\t\t\t\tsetVideoQueue(videoQueue);\r\n\t\t\t\tsynchronizeVideo(player, currentSeconds);\r\n\t\t\t});\r\n\r\n\t\t\tsocket.on(\"adminQueueUpdateAnswer\", ({ videoQueue }) => {\r\n\t\t\t\tsetVideoQueue(videoQueue);\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tsocket.removeAllListeners(`adminDataAnswer`);\r\n\t\t\tsocket.removeAllListeners(`joinRoomAnswer`);\r\n\t\t\tsocket.removeAllListeners(`isPlayingSocketAnswer`);\r\n\t\t\tsocket.removeAllListeners(`videoChangeAnswer`);\r\n\t\t\tsocket.removeAllListeners(\"adminQueueUpdateAnswer\");\r\n\t\t\tsocket.removeAllListeners(\"onlineUsersAnswer\");\r\n\t\t};\r\n\t\t// eslint-disable-next-line\r\n\t}, [currentRoom, admin, socket, maxDelay]);\r\n\r\n\tconst startSendingTimeToSocket = () => {\r\n\t\t// AVAILABLE ONLY FOR ADMIN\r\n\t\tif (admin) {\r\n\t\t\tsetIsPlaying(true);\r\n\t\t\tsocket.emit(\"isPlaying\", {\r\n\t\t\t\tisPlaying: true,\r\n\t\t\t\tcurrentRoom,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst stopSendingTimeToSocket = () => {\r\n\t\t// AVAILABLE ONLY FOR ADMIN\r\n\t\tif (admin) {\r\n\t\t\tsetIsPlaying(false);\r\n\t\t\tsocket.emit(\"isPlaying\", {\r\n\t\t\t\tisPlaying: false,\r\n\t\t\t\tcurrentRoom,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleAdminCheckQueue = () => {\r\n\t\tif (admin) {\r\n\t\t\tif (videoQueue) {\r\n\t\t\t\tsetCurrentVideoLink(videoQueue[0]);\r\n\t\t\t\tsetVideoQueue((prev) => prev.slice(1));\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"videoAndChat\">\r\n\t\t\t<div className=\"playerAndChat\">\r\n\t\t\t\t<div className=\"player-wrapper\">\r\n\t\t\t\t\t<ReactPlayer\r\n\t\t\t\t\t\tref={player}\r\n\t\t\t\t\t\tonPlay={startSendingTimeToSocket}\r\n\t\t\t\t\t\tonPause={stopSendingTimeToSocket}\r\n\t\t\t\t\t\tplaying={isPlaying}\r\n\t\t\t\t\t\tonEnded={handleAdminCheckQueue}\r\n\t\t\t\t\t\tclassName=\"react-player\"\r\n\t\t\t\t\t\turl={currentVideoLink}\r\n\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t\theight=\"100%\"\r\n\t\t\t\t\t\tcontrols={true}\r\n\t\t\t\t\t\tvolume={0.1}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"twitchChat\" ref={chatRef}>\r\n\t\t\t\t\t<span className=\"onlineUsers\">\r\n\t\t\t\t\t\t{onlineUsers ? `${onlineUsers} ONLINE` : \"CONNECTING\"}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<iframe\r\n\t\t\t\t\t\tstyle={{ border: \"2px solid #121212\" }}\r\n\t\t\t\t\t\ttitle=\"TwitchChat\"\r\n\t\t\t\t\t\tid=\"chat_embed\"\r\n\t\t\t\t\t\tsrc={`https://www.twitch.tv/embed/${chatUsername}/chat?darkpopout&parent=${websiteURL}`}\r\n\t\t\t\t\t\theight=\"100%\"\r\n\t\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\t></iframe>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PlayerAndChat;\r\n","import React from \"react\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { DataContext } from \"../../App\";\r\nimport { useContext } from \"react\";\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& > * + *\": {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function CustomizedSnackbars() {\r\n  const { isSuccess, setIsSuccess, successMessage } = useContext(DataContext);\r\n  const classes = useStyles();\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n    setIsSuccess(false);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Snackbar open={isSuccess} autoHideDuration={1000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"success\">\r\n          {successMessage}\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n      {/* <Alert severity=\"success\">This is a success message!</Alert> */}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Snackbar from \"@material-ui/core/Snackbar\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { DataContext } from \"../../App\";\r\nimport { useContext } from \"react\";\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    \"& > * + *\": {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function CustomizedSnackbars() {\r\n  const { isError, setIsError, errorMessage } = useContext(DataContext);\r\n  const classes = useStyles();\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === \"clickaway\") {\r\n      return;\r\n    }\r\n    setIsError(false);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Snackbar open={isError} autoHideDuration={1000} onClose={handleClose}>\r\n        <Alert onClose={handleClose} severity=\"error\">\r\n          {errorMessage}\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n      {/* <Alert severity=\"success\">This is a success message!</Alert> */}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"./Home.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { DataContext } from \"../../App\";\r\nimport { useContext } from \"react\";\r\n\r\nconst Home = () => {\r\n\tconst { twitchUserData, websiteURL } = useContext(DataContext);\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst [twitchStreamer, setTwitchStreamer] = useState(\"\");\r\n\tconst goToChannel = (e) => {\r\n\t\te.preventDefault();\r\n\t\tif (twitchStreamer) {\r\n\t\t\thistory.push(`/${twitchStreamer}`);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleTwitchLogin = () => {\r\n\t\twindow.location.href = `${websiteURL}/auth/twitch`;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"home\">\r\n\t\t\t<h1> Twitch Together</h1>\r\n\t\t\t<h2>Enter twitch streamer username</h2>\r\n\t\t\t<form>\r\n\t\t\t\t<input\r\n\t\t\t\t\tplaceholder=\"Channel\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={twitchStreamer}\r\n\t\t\t\t\tonChange={(e) => setTwitchStreamer(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\tstyle={{ display: \"none\" }}\r\n\t\t\t\t\tonClick={goToChannel}\r\n\t\t\t\t></button>\r\n\t\t\t\t{twitchUserData ? (\r\n\t\t\t\t\t<div className=\"userInfo\">\r\n\t\t\t\t\t\t<a href={`${websiteURL}/#/${twitchUserData.login}`}>\r\n\t\t\t\t\t\t\t<img src={twitchUserData.image} alt=\"Twitch\" />\r\n\t\t\t\t\t\t\t{twitchUserData.login}\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div onClick={handleTwitchLogin} className=\"twitchButton\">\r\n\t\t\t\t\t\tLogin with Twitch\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Switch, Route, useHistory } from \"react-router-dom\";\r\nimport io from \"socket.io-client\";\r\nimport \"./App.css\";\r\nimport AdminPanel from \"./comp/AdminPanel/AdminPanel\";\r\nimport PlayerAndChat from \"./comp/PlayerAndChat\";\r\nimport Success from \"./comp/Snackbars/Success\";\r\nimport Error from \"./comp/Snackbars/Error\";\r\nimport Home from \"./comp/MainPage/Home.js\";\r\nimport { useRef } from \"react\";\r\nexport const DataContext = React.createContext();\r\n\r\nconst socket = io(`/`);\r\n\r\nconst App = () => {\r\n\tconst history = useHistory();\r\n\tconst [admin, setAdmin] = useState(false);\r\n\tconst [currentVideoLink, setCurrentVideoLink] = useState(\"\");\r\n\tconst [videoQueue, setVideoQueue] = useState([]);\r\n\tconst [maxDelay, setMaxDelay] = useState(2);\r\n\tconst [twitchUserData, setTwitchUserData] = useState(null);\r\n\r\n\tconst websiteURL = window.location.origin;\r\n\r\n\t// APP, ADMINPANEL, PLAYERANDCHAT, PACKAGE.JSON\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch(`https://noembed.com/embed?url=${currentVideoLink}`)\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tdocument.title = res.title;\r\n\t\t\t\tif (res.title === undefined) {\r\n\t\t\t\t\tdocument.title = \"Watch Together\";\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}, [currentVideoLink]);\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch(\"/getProfile\", { credentials: \"include\" })\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.then((res) => {\r\n\t\t\t\tif (res.profile) {\r\n\t\t\t\t\tsetTwitchUserData(res.profile);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\tconst chatRef = useRef(null);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<DataContext.Provider\r\n\t\t\t\tvalue={{\r\n\t\t\t\t\tchatRef,\r\n\t\t\t\t\twebsiteURL,\r\n\t\t\t\t\ttwitchUserData,\r\n\t\t\t\t\tadmin,\r\n\t\t\t\t\tsetAdmin,\r\n\t\t\t\t\tsocket,\r\n\t\t\t\t\tcurrentVideoLink,\r\n\t\t\t\t\tsetCurrentVideoLink,\r\n\t\t\t\t\thistory,\r\n\t\t\t\t\tvideoQueue,\r\n\t\t\t\t\tsetVideoQueue,\r\n\t\t\t\t\tmaxDelay,\r\n\t\t\t\t\tsetMaxDelay,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div className=\"app\">\r\n\t\t\t\t\t<Switch>\r\n\t\t\t\t\t\t<Route path=\"/\" exact>\r\n\t\t\t\t\t\t\t<Home />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t\t<Route path=\"/:twitchStreamer\" exact>\r\n\t\t\t\t\t\t\t<PlayerAndChat />\r\n\t\t\t\t\t\t\t<div className=\"bottomDiv\">\r\n\t\t\t\t\t\t\t\t<AdminPanel />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t</Switch>\r\n\t\t\t\t\t<Success />\r\n\t\t\t\t\t<Error />\r\n\t\t\t\t</div>\r\n\t\t\t</DataContext.Provider>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { HashRouter as Router } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}